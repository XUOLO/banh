<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sweet Shop Admin - Trang qu·∫£n tr·ªã</title>
    <link rel="icon" href="https://public-frontend-cos.metadl.com/mgx/img/favicon.png" type="image/png">
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <!-- Admin Header -->
    <header class="admin-header">
        <div class="admin-container">
            <div class="admin-logo">
                <div class="logo-icon">üç≠</div>
                <div class="logo-text">
                    <h1>Sweet Shop Admin</h1>
                    <p>Trang qu·∫£n tr·ªã</p>
                </div>
            </div>
            <div class="admin-actions">
                <button class="notification-btn" onclick="showNotifications()">
                    üîî
                    <span class="notification-count" id="notificationCount">3</span>
                </button>
                <div class="admin-user">
                    <span>üë§ Admin</span>
                    <button class="logout-btn" onclick="logout()">ƒêƒÉng xu·∫•t</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Admin Sidebar -->
    <aside class="admin-sidebar" id="adminSidebar">
        <nav class="admin-nav">
            <ul>
                <li>
                    <a href="#dashboard" onclick="showAdminSection('dashboard')" class="nav-link active">
                        üìä Dashboard
                    </a>
                </li>
                <li>
                    <a href="#products" onclick="showAdminSection('products')" class="nav-link">
                        üõçÔ∏è Qu·∫£n l√Ω s·∫£n ph·∫©m
                    </a>
                </li>
                <li>
                    <a href="#orders" onclick="showAdminSection('orders')" class="nav-link">
                        üì¶ Qu·∫£n l√Ω ƒë∆°n h√†ng
                    </a>
                </li>
                <li>
                    <a href="#customers" onclick="showAdminSection('customers')" class="nav-link">
                        üë• Kh√°ch h√†ng
                    </a>
                </li>
                <li>
                    <a href="#analytics" onclick="showAdminSection('analytics')" class="nav-link">
                        üìà Th·ªëng k√™
                    </a>
                </li>
                <li>
                    <a href="#settings" onclick="showAdminSection('settings')" class="nav-link">
                        ‚öôÔ∏è C√†i ƒë·∫∑t
                    </a>
                </li>
            </ul>
        </nav>
        <div class="sidebar-footer">
            <a href="index.html" target="_blank" class="view-site-btn">
                üåê Xem trang web
            </a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="admin-main">
        <!-- Dashboard Section -->
        <section id="dashboard" class="admin-section active">
            <div class="admin-container">
                <div class="section-header">
                    <h1>Dashboard</h1>
                    <p>T·ªïng quan ho·∫°t ƒë·ªông kinh doanh</p>
                </div>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-info">
                            <h3>Doanh thu h√¥m nay</h3>
                            <p class="stat-value">2.450.000ƒë</p>
                            <span class="stat-change positive">+12.5%</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üì¶</div>
                        <div class="stat-info">
                            <h3>ƒê∆°n h√†ng m·ªõi</h3>
                            <p class="stat-value">24</p>
                            <span class="stat-change positive">+8</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-info">
                            <h3>Kh√°ch h√†ng m·ªõi</h3>
                            <p class="stat-value">12</p>
                            <span class="stat-change positive">+3</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üõçÔ∏è</div>
                        <div class="stat-info">
                            <h3>S·∫£n ph·∫©m b√°n ch·∫°y</h3>
                            <p class="stat-value">156</p>
                            <span class="stat-change negative">-5</span>
                        </div>
                    </div>
                </div>

                <!-- Charts and Recent Activity -->
                <div class="dashboard-content">
                    <div class="chart-section">
                        <div class="card">
                            <div class="card-header">
                                <h3>Doanh thu 7 ng√†y qua</h3>
                            </div>
                            <div class="card-body">
                                <div class="chart-placeholder">
                                    <canvas id="revenueChart" width="400" height="200"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="activity-section">
                        <div class="card">
                            <div class="card-header">
                                <h3>Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y</h3>
                            </div>
                            <div class="card-body">
                                <div class="activity-list" id="recentActivity">
                                    <!-- Activities will be loaded by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Section -->
        <section id="products" class="admin-section">
            <div class="admin-container">
                <div class="section-header">
                    <h1>Qu·∫£n l√Ω s·∫£n ph·∫©m</h1>
                    <button class="btn btn-primary" onclick="showAddProductModal()">
                        ‚ûï Th√™m s·∫£n ph·∫©m m·ªõi
                    </button>
                </div>

                <!-- Product Filters -->
                <div class="filters-bar">
                    <div class="filter-group">
                        <input type="text" id="productSearchAdmin" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..." onkeyup="filterAdminProducts()">
                    </div>
                    <div class="filter-group">
                        <select id="categoryFilterAdmin" onchange="filterAdminProducts()">
                            <option value="all">T·∫•t c·∫£ danh m·ª•c</option>
                            <option value="chocolate">Chocolate</option>
                            <option value="candy">K·∫πo</option>
                            <option value="cake">B√°nh ng·ªçt</option>
                            <option value="cookie">B√°nh quy</option>
                            <option value="gummy">K·∫πo d·∫ªo</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <select id="statusFilterAdmin" onchange="filterAdminProducts()">
                            <option value="all">T·∫•t c·∫£ tr·∫°ng th√°i</option>
                            <option value="inStock">C√≤n h√†ng</option>
                            <option value="outOfStock">H·∫øt h√†ng</option>
                        </select>
                    </div>
                </div>

                <!-- Products Table -->
                <div class="card">
                    <div class="table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>H√¨nh ·∫£nh</th>
                                    <th>T√™n s·∫£n ph·∫©m</th>
                                    <th>Danh m·ª•c</th>
                                    <th>Gi√°</th>
                                    <th>T·ªìn kho</th>
                                    <th>Tr·∫°ng th√°i</th>
                                    <th>Thao t√°c</th>
                                </tr>
                            </thead>
                            <tbody id="productsTableBody">
                                <!-- Products will be loaded by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Orders Section -->
        <section id="orders" class="admin-section">
            <div class="admin-container">
                <div class="section-header">
                    <h1>Qu·∫£n l√Ω ƒë∆°n h√†ng</h1>
                    <div class="section-actions">
                        <button class="btn btn-secondary" onclick="exportOrders()">
                            üì• Xu·∫•t Excel
                        </button>
                    </div>
                </div>

                <!-- Order Filters -->
                <div class="filters-bar">
                    <div class="filter-group">
                        <input type="text" id="orderSearchAdmin" placeholder="T√¨m ki·∫øm ƒë∆°n h√†ng..." onkeyup="filterAdminOrders()">
                    </div>
                    <div class="filter-group">
                        <select id="orderStatusFilter" onchange="filterAdminOrders()">
                            <option value="all">T·∫•t c·∫£ tr·∫°ng th√°i</option>
                            <option value="pending">Ch·ªù x·ª≠ l√Ω</option>
                            <option value="processing">ƒêang x·ª≠ l√Ω</option>
                            <option value="shipping">ƒêang giao</option>
                            <option value="completed">Ho√†n th√†nh</option>
                            <option value="cancelled">ƒê√£ h·ªßy</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <input type="date" id="orderDateFilter" onchange="filterAdminOrders()">
                    </div>
                </div>

                <!-- Orders Table -->
                <div class="card">
                    <div class="table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>M√£ ƒë∆°n h√†ng</th>
                                    <th>Kh√°ch h√†ng</th>
                                    <th>Ng√†y ƒë·∫∑t</th>
                                    <th>T·ªïng ti·ªÅn</th>
                                    <th>Tr·∫°ng th√°i</th>
                                    <th>Thao t√°c</th>
                                </tr>
                            </thead>
                            <tbody id="ordersTableBody">
                                <!-- Orders will be loaded by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Customers Section -->
        <section id="customers" class="admin-section">
            <div class="admin-container">
                <div class="section-header">
                    <h1>Qu·∫£n l√Ω kh√°ch h√†ng</h1>
                    <div class="section-actions">
                        <button class="btn btn-secondary" onclick="exportCustomers()">
                            üì• Xu·∫•t danh s√°ch
                        </button>
                    </div>
                </div>

                <!-- Customer Stats -->
                <div class="customer-stats">
                    <div class="stat-item">
                        <span class="stat-label">T·ªïng kh√°ch h√†ng:</span>
                        <span class="stat-number">1,234</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Kh√°ch h√†ng m·ªõi th√°ng n√†y:</span>
                        <span class="stat-number">89</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Kh√°ch h√†ng VIP:</span>
                        <span class="stat-number">45</span>
                    </div>
                </div>

                <!-- Customers Table -->
                <div class="card">
                    <div class="table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>T√™n kh√°ch h√†ng</th>
                                    <th>Email</th>
                                    <th>S·ªë ƒëi·ªán tho·∫°i</th>
                                    <th>ƒê∆°n h√†ng</th>
                                    <th>T·ªïng chi ti√™u</th>
                                    <th>Ng√†y ƒëƒÉng k√Ω</th>
                                    <th>Thao t√°c</th>
                                </tr>
                            </thead>
                            <tbody id="customersTableBody">
                                <!-- Customers will be loaded by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics" class="admin-section">
            <div class="admin-container">
                <div class="section-header">
                    <h1>Th·ªëng k√™ & B√°o c√°o</h1>
                    <div class="date-range-picker">
                        <input type="date" id="startDate" value="2024-01-01">
                        <span>ƒë·∫øn</span>
                        <input type="date" id="endDate" value="2024-12-31">
                        <button class="btn btn-primary" onclick="updateAnalytics()">C·∫≠p nh·∫≠t</button>
                    </div>
                </div>

                <!-- Analytics Cards -->
                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h3>Doanh thu theo th√°ng</h3>
                        <div class="chart-container">
                            <canvas id="monthlyRevenueChart"></canvas>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3>S·∫£n ph·∫©m b√°n ch·∫°y</h3>
                        <div class="chart-container">
                            <canvas id="topProductsChart"></canvas>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3>Kh√°ch h√†ng theo khu v·ª±c</h3>
                        <div class="chart-container">
                            <canvas id="customerLocationChart"></canvas>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3>T·ª∑ l·ªá chuy·ªÉn ƒë·ªïi</h3>
                        <div class="conversion-stats">
                            <div class="conversion-item">
                                <span>L∆∞·ª£t truy c·∫≠p:</span>
                                <span>12,456</span>
                            </div>
                            <div class="conversion-item">
                                <span>L∆∞·ª£t xem s·∫£n ph·∫©m:</span>
                                <span>3,234</span>
                            </div>
                            <div class="conversion-item">
                                <span>Th√™m v√†o gi·ªè:</span>
                                <span>1,123</span>
                            </div>
                            <div class="conversion-item">
                                <span>Ho√†n th√†nh ƒë∆°n:</span>
                                <span>456</span>
                            </div>
                            <div class="conversion-rate">
                                <strong>T·ª∑ l·ªá chuy·ªÉn ƒë·ªïi: 3.66%</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section id="settings" class="admin-section">
            <div class="admin-container">
                <div class="section-header">
                    <h1>C√†i ƒë·∫∑t h·ªá th·ªëng</h1>
                </div>

                <div class="settings-grid">
                    <!-- General Settings -->
                    <div class="settings-card">
                        <h3>C√†i ƒë·∫∑t chung</h3>
                        <form id="generalSettingsForm">
                            <div class="form-group">
                                <label>T√™n c·ª≠a h√†ng:</label>
                                <input type="text" value="Sweet Shop" name="storeName">
                            </div>
                            <div class="form-group">
                                <label>Email li√™n h·ªá:</label>
                                <input type="email" value="info@sweetshop.vn" name="contactEmail">
                            </div>
                            <div class="form-group">
                                <label>S·ªë ƒëi·ªán tho·∫°i:</label>
                                <input type="tel" value="1900-1234" name="phone">
                            </div>
                            <div class="form-group">
                                <label>ƒê·ªãa ch·ªâ:</label>
                                <textarea name="address">123 ƒê∆∞·ªùng ABC, Qu·∫≠n 1, TP.HCM</textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">L∆∞u thay ƒë·ªïi</button>
                        </form>
                    </div>

                    <!-- Shipping Settings -->
                    <div class="settings-card">
                        <h3>C√†i ƒë·∫∑t v·∫≠n chuy·ªÉn</h3>
                        <form id="shippingSettingsForm">
                            <div class="form-group">
                                <label>Ph√≠ v·∫≠n chuy·ªÉn c∆° b·∫£n:</label>
                                <input type="number" value="30000" name="basicShippingFee">
                            </div>
                            <div class="form-group">
                                <label>Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn t·ª´:</label>
                                <input type="number" value="500000" name="freeShippingThreshold">
                            </div>
                            <div class="form-group">
                                <label>Ph√≠ v·∫≠n chuy·ªÉn nhanh:</label>
                                <input type="number" value="50000" name="expressShippingFee">
                            </div>
                            <button type="submit" class="btn btn-primary">L∆∞u thay ƒë·ªïi</button>
                        </form>
                    </div>

                    <!-- Payment Settings -->
                    <div class="settings-card">
                        <h3>C√†i ƒë·∫∑t thanh to√°n</h3>
                        <form id="paymentSettingsForm">
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" checked name="codEnabled">
                                    Thanh to√°n khi nh·∫≠n h√†ng (COD)
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" checked name="bankTransferEnabled">
                                    Chuy·ªÉn kho·∫£n ng√¢n h√†ng
                                </label>
                            </div>
                            <div class="form-group">
                                <label>Th√¥ng tin t√†i kho·∫£n ng√¢n h√†ng:</label>
                                <textarea name="bankInfo">Ng√¢n h√†ng: Vietcombank
S·ªë TK: 1234567890
Ch·ªß TK: Sweet Shop</textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">L∆∞u thay ƒë·ªïi</button>
                        </form>
                    </div>

                    <!-- Notification Settings -->
                    <div class="settings-card">
                        <h3>C√†i ƒë·∫∑t th√¥ng b√°o</h3>
                        <form id="notificationSettingsForm">
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" checked name="emailNotifications">
                                    Th√¥ng b√°o email khi c√≥ ƒë∆°n h√†ng m·ªõi
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" checked name="smsNotifications">
                                    Th√¥ng b√°o SMS cho kh√°ch h√†ng
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" checked name="lowStockAlerts">
                                    C·∫£nh b√°o khi s·∫£n ph·∫©m s·∫Øp h·∫øt h√†ng
                                </label>
                            </div>
                            <button type="submit" class="btn btn-primary">L∆∞u thay ƒë·ªïi</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Add/Edit Product Modal -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="productModalTitle">Th√™m s·∫£n ph·∫©m m·ªõi</h3>
                <button class="close-modal" onclick="closeProductModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="productForm">
                    <input type="hidden" id="productId" name="id">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productName">T√™n s·∫£n ph·∫©m *</label>
                            <input type="text" id="productName" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="productCategory">Danh m·ª•c *</label>
                            <select id="productCategory" name="category" required>
                                <option value="">Ch·ªçn danh m·ª•c</option>
                                <option value="chocolate">Chocolate</option>
                                <option value="candy">K·∫πo</option>
                                <option value="cake">B√°nh ng·ªçt</option>
                                <option value="cookie">B√°nh quy</option>
                                <option value="gummy">K·∫πo d·∫ªo</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productPrice">Gi√° b√°n *</label>
                            <input type="number" id="productPrice" name="price" required>
                        </div>
                        <div class="form-group">
                            <label for="productOriginalPrice">Gi√° g·ªëc</label>
                            <input type="number" id="productOriginalPrice" name="originalPrice">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="productDescription">M√¥ t·∫£ s·∫£n ph·∫©m *</label>
                        <textarea id="productDescription" name="description" rows="3" required></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productWeight">Tr·ªçng l∆∞·ª£ng</label>
                            <input type="text" id="productWeight" name="weight" placeholder="VD: 100g">
                        </div>
                        <div class="form-group">
                            <label for="productStock">S·ªë l∆∞·ª£ng t·ªìn kho</label>
                            <input type="number" id="productStock" name="stock" value="0">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="productImage">URL h√¨nh ·∫£nh</label>
                        <input type="url" id="productImage" name="image" placeholder="https://example.com/image.jpg">
                    </div>
                    <div class="form-group">
                        <label for="productIngredients">Th√†nh ph·∫ßn (m·ªói d√≤ng m·ªôt th√†nh ph·∫ßn)</label>
                        <textarea id="productIngredients" name="ingredients" rows="3" placeholder="Chocolate ƒëen&#10;Kem t∆∞∆°i&#10;B∆°"></textarea>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="productInStock" name="inStock" checked>
                            C√≤n h√†ng
                        </label>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="productFeatured" name="featured">
                            S·∫£n ph·∫©m n·ªïi b·∫≠t
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeProductModal()">H·ªßy</button>
                        <button type="submit" class="btn btn-primary">L∆∞u s·∫£n ph·∫©m</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Order Detail Modal -->
    <div class="modal" id="orderModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="orderModalTitle">Chi ti·∫øt ƒë∆°n h√†ng</h3>
                <button class="close-modal" onclick="closeOrderModal()">&times;</button>
            </div>
            <div class="modal-body" id="orderModalBody">
                <!-- Order details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Modal Overlay -->
    <div class="modal-overlay" id="modalOverlay"></div>

    <script src="admin-script.js"></script>
</body>
</html>